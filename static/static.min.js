function show(e){if(e.tagName!==undefined)e=$(e);e.show();e.removeClass("hidden");e.find("*[touched=touched]").change();$("fieldset").trigger("check")}function hide(e){if(e.tagName!==undefined)e=$(e);e.hide();e.addClass("hidden");$("fieldset").trigger("check")}function checkSection(e){var t=false;$.each($(e).children("div,fieldset"),function(e,n){if($(n).css("display")!="none")t=true});if(t)$(e).show();else $(e).hide()}function getFormValue(e){if($(e)[0].tagName=="SELECT")return $(e).val()==="true";switch($(e).attr("type")){case"checkbox":case"radio":return $(e).is(":checked");default:return $(e).val()}}function setFormValue(e,t){if($(e)[0].tagName=="SELECT"){if(t)$(e).val("true");else if(!t)$(e).val("false");else $(e).val("undefined");return}switch($(e).attr("type")){case"checkbox":$(e).prop("checked",t);break;case"money":$(e).val(roundMoney(t));break;default:$(e).val(t)}$(e).change()}function roundMoney(e){return(new Number(e)).toFixed(2)}function numDecimals(e){var t=e.toString();var n=t.indexOf(".");if(n>-1)return t.length-n-1;else return 0}function addPage(e,t,n){$("<div />").attr({id:e,"class":"page"}).append($("<h1 />").text(t)).appendTo($("#"+n))}function addSection(e,t,n){$("<fieldset />").attr({id:e,"class":"section"}).append($("<legend />").text(t)).appendTo($("#"+n))}function addNote(e,t){$("<div />").attr({"class":"note"}).append($("<p />").text(e)).appendTo($("#"+t))}function addQuestion(e,t){$("#"+e).addClass("question").appendTo($("#"+t))}function addText(e){oldType=$("#"+e)[0].type;$("#"+e).replaceWith($("<input />").attr({id:e,name:e,type:oldType,disabled:$("#"+e).is(":disabled")}))}function addNumber(e,t,n,r){$("#"+e).replaceWith($("<input />").attr({id:e,name:e,type:"number",min:function(){if(t<0)return undefined;else return t},max:function(){if(n<0){return undefined}else{return n}},step:function(){if(r<0){if($("#"+e).attr("type")==="money")return.01;else return 1}else return r},disabled:$("#"+e).is(":disabled")}))}function addSlider(e,t,n,r){$("#"+e).replaceWith($("<span />").append($("<input />").attr({id:e,name:e,type:"range",value:"0",min:t,max:n,step:function(){if(r<0){if($("#"+e).attr("type")==="money")return.01;else return 1}else return r},disabled:$("#"+e).is(":disabled")}).change(function(){$("#"+e+"Display").text($(this).val())})).append($("<span />").attr({id:e+"Display"}).text(0)))}function addRadio(e){$("#"+e).replaceWith($("<span />").append($("<input />").attr({id:e,name:e,value:"true",type:"radio",disabled:$("#"+e).is(":disabled")})).append($("<label />").attr({"for":e}).text("Yes")).append($("<input />").attr({id:e+"False",name:e,value:"false",type:"radio",disabled:$("#"+e).is(":disabled")})).append($("<label />").attr({"for":e+"False"}).text("No")))}function addRangeRadio(e,t,n){$rep=$("<span />");for(var r=t;r<=n;r++){$rep.append($("<input />").attr({id:e+r,name:e,value:r,type:"radio",disabled:$("#"+e).is(":disabled")})).append($("<label />").attr({"for":e+r}).text(r))}$("#"+e).replaceWith($rep)}function addCheckbox(e){$("#"+e).replaceWith($("<span />").append($("<input />").attr({id:e,name:e,value:"true",type:"checkbox",disabled:$("#"+e).is(":disabled")})).append($("<label />").attr({"for":e}).text("Yes")));$("#"+e).rules("remove")}function addTextarea(e){$("#"+e).replaceWith($("<textarea />").attr({id:e,name:e,disabled:$("#"+e).is(":disabled")}))}function button(e){return $("<button />").text(e||id)}function prevButton(){return button("Previous")}function nextButton(){return button("Next")}function showPage(e){$(".page").hide();$(e).show();$(window).scrollTop(0)}function paginate(){var e=$(".page");if(e.length==0)return;if(e.length>1){$.each(e,function(t,n){if(t>0){prevButton().click(function(n){n.preventDefault();showPage(e[t-1])}).appendTo(n)}if(t<e.length-1){nextButton().click(function(r){r.preventDefault();if($(n).find("input:visible, select:visible").valid()){for(var s=t+1;s<e.length;s++){showPage(e[s]);if($(e[s]).find("input[type!=submit]:visible, select:visible").length>0){break}else if(s==e.length-1){$("#submit").click()}}}}).appendTo(n)}});showPage(e.first())}$("#submit").appendTo(e.last())}$(document).on("check","fieldset",function(e){checkSection(e.target)});jQuery.validator.addMethod("moneyValidator",function(e,t,n){return this.optional(t)||numDecimals(e)<=2},jQuery.format("The money field can only contain up to 2 decimals."))